[{"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/index.js":"1","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/services/Firebase/index.js":"2","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/services/Firebase/Firebase.js":"3","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/services/Firebase/FirebaseContext.jsx":"4","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/constants/miscConsts.js":"5","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/components/RefreshButton.jsx":"6","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/components/CheckButton.jsx":"7","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/pages/ForgotPassword.jsx":"8","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/components/RadioButtons.jsx":"9","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/pages/Profile.jsx":"10","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/pages/Notification.jsx":"11","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/helpers/validation.js":"12","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/components/Header.jsx":"13","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/components/MatchaButton.jsx":"14","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/components/UserList.jsx":"15","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/helpers/formatTime.js":"16","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/components/ProfileForm.jsx":"17","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/pages/Signup.jsx":"18","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/Icons/UserIcon.jsx":"19","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/components/App.jsx":"20","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/pages/Login.jsx":"21","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/components/MatchaBox.jsx":"22","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/components/Navbar.jsx":"23","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/components/UserSearchList.jsx":"24","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/components/UserItem.jsx":"25","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/pages/Search.jsx":"26","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/components/PasswordChangeForm.jsx":"27","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/models/User.js":"28","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/pages/Home.jsx":"29","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/pages/NotFound.jsx":"30","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/pages/Admin.jsx":"31"},{"size":335,"mtime":1607684884095,"results":"32","hashOfConfig":"33"},{"size":171,"mtime":1607512458533,"results":"34","hashOfConfig":"35"},{"size":6395,"mtime":1608573686083,"results":"36","hashOfConfig":"33"},{"size":343,"mtime":1608308654270,"results":"37","hashOfConfig":"33"},{"size":33,"mtime":1608294964580,"results":"38","hashOfConfig":"35"},{"size":315,"mtime":1608298545751,"results":"39","hashOfConfig":"35"},{"size":452,"mtime":1608294173906,"results":"40","hashOfConfig":"41"},{"size":3737,"mtime":1608309671946,"results":"42","hashOfConfig":"33"},{"size":1982,"mtime":1608298536408,"results":"43","hashOfConfig":"33"},{"size":3759,"mtime":1608498930851,"results":"44","hashOfConfig":"33"},{"size":1422,"mtime":1608144398450,"results":"45","hashOfConfig":"33"},{"size":516,"mtime":1608294947952,"results":"46","hashOfConfig":"33"},{"size":172,"mtime":1608292913296,"results":"47","hashOfConfig":"33"},{"size":952,"mtime":1608372636486,"results":"48","hashOfConfig":"33"},{"size":2685,"mtime":1608498971566,"results":"49","hashOfConfig":"33"},{"size":206,"mtime":1608294957334,"results":"50","hashOfConfig":"41"},{"size":6747,"mtime":1608573688407,"results":"51","hashOfConfig":"33"},{"size":4840,"mtime":1608573687141,"results":"52","hashOfConfig":"33"},{"size":660,"mtime":1607964188366,"results":"53","hashOfConfig":"33"},{"size":5233,"mtime":1608495475221,"results":"54","hashOfConfig":"33"},{"size":3022,"mtime":1608572455296,"results":"55","hashOfConfig":"33"},{"size":598,"mtime":1608293002225,"results":"56","hashOfConfig":"33"},{"size":4347,"mtime":1608477720676,"results":"57","hashOfConfig":"33"},{"size":7433,"mtime":1608577891614,"results":"58","hashOfConfig":"33"},{"size":3846,"mtime":1609003662131,"results":"59","hashOfConfig":"33"},{"size":1336,"mtime":1608204972651,"results":"60","hashOfConfig":"33"},{"size":1733,"mtime":1608298524133,"results":"61","hashOfConfig":"33"},{"size":663,"mtime":1608573809713,"results":"62","hashOfConfig":"33"},{"size":1231,"mtime":1608063463545,"results":"63","hashOfConfig":"33"},{"size":227,"mtime":1608996318902,"results":"64","hashOfConfig":"33"},{"size":877,"mtime":1609001671685,"results":"65","hashOfConfig":"33"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},"13dlxs6",{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1x7izz4",{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"75"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"18uqt2n",{"filePath":"82","messages":"83","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"warningCount":16,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"103","messages":"104","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"107","messages":"108","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"114","messages":"115","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"116","usedDeprecatedRules":"117"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":28,"fixableErrorCount":0,"fixableWarningCount":0,"source":"120","usedDeprecatedRules":"75"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":30,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"125","messages":"126","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"75"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"133","messages":"134","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/index.js",[],[],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/services/Firebase/index.js",[],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/services/Firebase/Firebase.js",[],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/services/Firebase/FirebaseContext.jsx",[],[],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/constants/miscConsts.js",[],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/components/RefreshButton.jsx",[],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/components/CheckButton.jsx",[],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/pages/ForgotPassword.jsx",["135","136","137","138","139","140","141","142","143"],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/components/RadioButtons.jsx",[],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/pages/Profile.jsx",["144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159"],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/pages/Notification.jsx",[],[],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/helpers/validation.js",[],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/components/Header.jsx",[],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/components/MatchaButton.jsx",[],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/components/UserList.jsx",["160","161","162","163"],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/helpers/formatTime.js",[],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/components/ProfileForm.jsx",[],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/pages/Signup.jsx",["164","165","166","167","168","169","170"],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/Icons/UserIcon.jsx",[],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/components/App.jsx",["171","172","173","174","175","176","177","178","179","180","181","182"],"import React, { Component } from 'react';\nimport {\n  Route,\n  BrowserRouter as Router,\n  Switch,\n  Redirect,\n} from 'react-router-dom';\nimport Home from 'pages/Home';\nimport Chat from 'pages/Chat';\nimport Profile from 'pages/Profile';\nimport Signup from 'pages/Signup';\nimport Login from 'pages/Login';\nimport ForgotPassword from 'pages/ForgotPassword';\nimport NotFound from 'pages/NotFound';\nimport DeleteAccount from 'pages/DeleteAccount';\nimport Notification from 'pages/Notification';\nimport Search from 'pages/Search';\n\nimport { withFirebase } from 'services/Firebase'\n\nimport Spinner from 'react-loader-spinner'\nimport SnackbarProvider from 'react-simple-snackbar'\n\nimport 'styles/styles.css';\nimport Admin from 'pages/Admin';\n\n// cette fonction est un HOC : Higher Order Component\n// elle renvoit le bon composant si on est authentifié, sinon elle revoit vers\n// la page de login\nfunction PrivateRoute({ component: Component, authenticated, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={(props) => (authenticated === true\n        ? <Component {...props} />\n        : <Redirect to={{ pathname: '/login', state: { from: props.location } }} />)}\n    />\n  )\n}\n\n// cette fonction est un HOC : Higher Order Component\n// elle renvoit le bon composant si on est authentifié, sinon elle revoit vers\n// la page de login\nfunction ProtectedRoute({\n  component: Component, authenticated, admin, ...rest\n}) {\n  return (\n    <Route\n      {...rest}\n      render={(props) => ((authenticated === true)\n        ? admin === true ? <Component {...props} /> : <Redirect to={{ pathname: '/', state: { from: props.location } }} />\n        : <Redirect to={{ pathname: '/login', state: { from: props.location } }} />)}\n    />\n  )\n}\n\n// cette fonction est un HOC : Higher Order Component\n// elle renvoit le bon composant si on est pas authentifié (soit signup et login), sinon elle revoit vers\n// la home page\nfunction PublicRoute({ component: Component, authenticated, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={(props) => (authenticated === false\n        ? <Component {...props} />\n        : <Redirect to=\"/\" />)}\n    />\n  )\n}\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      authenticated: false,\n      admin: false,\n      loading: true,\n    };\n  }\n\n  componentDidMount() {\n    // firebase is expected to be provided as a prop\n    const { onAuthStateChangedWithRoles } = this.props.firebase\n    // subscribe to auth state change and store listener\n    // for future cleanup\n    this.listener = onAuthStateChangedWithRoles((user) => {\n      if (user) {\n        // TODO: check protected\n        const { roles } = user\n        console.log('this user has the following roles : ', roles)\n        const admin = roles && roles.ADMIN && roles.ADMIN === true\n        this.setState({\n          authenticated: true,\n          admin,\n          loading: false,\n        });\n      } else {\n        this.setState({\n          authenticated: false,\n          admin: false,\n          loading: false,\n        });\n      }\n    })\n  }\n\n  componentWillUnmount() {\n    // remove listener to avoid emory leak\n    this.listener();\n  }\n\n  render() {\n    return this.state.loading === true ? (\n      <div className=\"flex items-center justify-center\"><Spinner type=\"Puff\" color=\"#038E9F\" height={50} width={50} /></div>\n    ) : (\n      <SnackbarProvider>\n        <Router>\n          <Switch>\n            <Route exact path=\"/\" component={Home} />\n            <PrivateRoute\n              path=\"/profile\"\n              authenticated={this.state.authenticated}\n              component={Profile}\n            />\n            <PrivateRoute\n              path=\"/chat\"\n              authenticated={this.state.authenticated}\n              component={Chat}\n            />\n            <ProtectedRoute\n              path=\"/admin\"\n              authenticated={this.state.authenticated}\n              admin={this.state.admin}\n              component={Admin}\n            />\n            <PrivateRoute\n              path=\"/search\"\n              authenticated={this.state.authenticated}\n              component={Search}\n            />\n            <PrivateRoute\n              path=\"/notification\"\n              authenticated={this.state.authenticated}\n              component={Notification}\n            />\n            <PrivateRoute\n              path=\"/deleteaccount\"\n              authenticated={this.state.authenticated}\n              component={DeleteAccount}\n            />\n            <PublicRoute\n              path=\"/signup\"\n              authenticated={this.state.authenticated}\n              component={Signup}\n            />\n            <PublicRoute\n              path=\"/login\"\n              authenticated={this.state.authenticated}\n              component={Login}\n            />\n            <PublicRoute\n              path=\"/forgotpassword\"\n              authenticated={this.state.authenticated}\n              component={ForgotPassword}\n            />\n            <Route component={NotFound} />\n          </Switch>\n        </Router>\n      </SnackbarProvider>\n    );\n  }\n}\n\n// App is wrapped within the Firebase context\n// so that the Firebase instance is available as a prop\nexport default withFirebase(App);\n","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/pages/Login.jsx",["183","184"],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/components/MatchaBox.jsx",[],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/components/Navbar.jsx",["185","186","187","188","189","190","191","192"],"import React from 'react'\nimport { Link, useLocation } from 'react-router-dom';\nimport { withFirebase } from 'services/Firebase'\nimport * as MISC from 'constants/miscConsts'\nimport MenuIcon from 'Icons/MenuIcon'\nimport MatchaButton from './MatchaButton';\n\n// inspired from https://www.creative-tim.com/learning-lab/tailwind-starter-kit/documentation/react/navbars\nfunction Navbar({ firebase }) {\n  const [navbarOpen, setNavbarOpen] = React.useState(false)\n  const location = useLocation()\n\n  const decorateLink = (locationPath) => {\n    let deco = 'px-3 py-2 flex items-center text-xs font-bold leading-snug text-white hover:opacity-75'\n    if (location.pathname === locationPath) {\n      deco += ' underline'\n    }\n    return deco\n  }\n\n  return (\n    <>\n      <nav className=\"relative flex flex-wrap items-center justify-between px-2 py-3 navbar-expand-lg bg-indigo-300 mb-3\">\n        <div className=\"container px-4 mx-auto flex flex-wrap items-center justify-between\">\n          <div className=\"w-full relative flex justify-between lg:w-auto lg:static lg:block lg:justify-start\">\n            <Link className=\"text-sm font-bold leading-relaxed inline-block mr-4 py-2 whitespace-no-wrap uppercase text-white hover:opacity-75\" to=\"/\">{MISC.APP_NAME}</Link>\n\n            <button\n              className=\"text-white cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none\"\n              type=\"button\"\n              onClick={() => setNavbarOpen(!navbarOpen)}\n            >\n              <MenuIcon />\n            </button>\n          </div>\n          <div\n            className={\n                            `lg:flex flex-grow items-center${\n                              navbarOpen ? ' flex' : ' hidden'}`\n                        }\n          >\n            <ul className=\"flex flex-col lg:flex-row list-none lg:ml-auto\">\n              {\n                                firebase.auth.currentUser\n                                  ? (\n                                    <>\n                                      <li className=\"nav-item\">\n                                        <span className=\"px-3 py-2 flex items-center text-xs font-bold leading-snug text-gray-200\">\n                                          Hello {firebase.auth.currentUser.email}\n                                        </span>\n                                      </li>\n                                      <li className=\"nav-item\">\n                                        <Link className={decorateLink('/profile')} to=\"/profile\">Profile</Link>\n                                      </li>\n                                      <li className=\"nav-item\">\n                                        <Link className={decorateLink('/chat')} to=\"/chat\">Chat</Link>\n                                      </li>\n                                      <li className=\"nav-item\">\n                                        <Link className={decorateLink('/search')} to=\"/search\">Search</Link>\n                                      </li>\n                                      <li className=\"nav-item\">\n                                        <Link className={decorateLink('/notification')} to=\"/notification\">Notification</Link>\n                                      </li>\n                                      <li className=\"nav-item\">\n                                        <MatchaButton text=\"Logout\" onClick={() => firebase.auth.signOut()} />\n                                      </li>\n                                    </>\n                                  )\n                                  : (\n                                    <>\n                                      <li className=\"nav-item\">\n                                        <Link className={decorateLink('/login')} to=\"/login\">Sign In</Link>\n                                      </li>\n                                      <li className=\"nav-item\">\n                                        <Link className={decorateLink('/signup')} to=\"/signup\">Sign Up</Link>\n                                      </li>\n                                    </>\n                                  )\n\n                            }\n            </ul>\n          </div>\n        </div>\n      </nav>\n    </>\n  );\n}\n\nexport default withFirebase(Navbar)\n",[],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/components/UserSearchList.jsx",["193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220"],"import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport MatchaBox from \"components/MatchaBox\"\nimport MatchaButton from \"components/MatchaButton\"\nimport Avatar from \"components/Avatar\"\nimport { isBFriendOfA } from 'models/User'\nimport { withFirebase } from 'services/Firebase';\n// import * as ROUTES from '../../constants/routes';\n\n\nclass UserSearchList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      users: [],\n      error: null,\n      limit: 5,\n      toggleRefresh: false\n    }\n    this.extractFilteredUsers = this.extractFilteredUsers.bind(this);\n    this.askConnection = this.askConnection.bind(this);\n    this.cancelRequestForConnection = this.cancelRequestForConnection.bind(this);\n    this.acceptConnection = this.acceptConnection.bind(this);\n    this.rejectConnection = this.rejectConnection.bind(this);\n\n  }\n\n  componentDidMount() {\n    this.onListenForUsers()\n  }\n\n  askConnection(toUser) {\n    console.log(\"askConnection\")\n    const { authUser, user } = this.props.firebase\n\n    const isFriend = isBFriendOfA(authUser, toUser)\n\n    if (isFriend) {\n      // already friends, don't do anything\n      console.log(\"askConnection: user \" + authUser.uid + \" is already friend with \" + toUser.uid)\n    } else {\n      const friends = {\n        ...authUser.friends,\n      }\n      friends[toUser.uid] = false\n      user(authUser.uid)\n        .child('friends')\n        .update(friends)\n    }\n  }\n\n  cancelRequestForConnection(toUser) {\n    console.log(\"cancelConnection\")\n    const { authUser, user } = this.props.firebase\n    const isFriend = isBFriendOfA(authUser, toUser)\n\n    if (isFriend === false) {\n      const friends = {\n        ...authUser.friends,\n      }\n      friends[toUser.uid] = null\n      user(authUser.uid)\n        .child('friends')\n        .update(friends)\n    }\n  }\n\n  acceptConnection(fromUser) {\n    console.log(\"acceptConnection\")\n    const { authUser, user } = this.props.firebase\n\n    const isFriend = isBFriendOfA(fromUser, authUser)\n\n    if (isFriend) {\n      // already friends, don't do anything\n      console.log(\"acceptConnection: user \" + authUser.uid + \" is already friend with \" + fromUser.uid)\n    } else {\n      const friends = {\n        ...fromUser.friends,\n      }\n      friends[authUser.uid] = true\n      user(fromUser.uid)\n        .child('friends')\n        .update(friends)\n    }\n  }\n\n  rejectConnection(fromUser) {\n    console.log(\"rejectConnection\")\n\n  }\n\n  extractFilteredUsers(snapshot, uid) {\n    console.log(\"extractFilteredUsers\")\n    const usersObject = snapshot.val();\n    if (usersObject) {\n      const usersList = Object.keys(usersObject).map(key => ({\n        ...usersObject[key],\n        uid: key,\n      }))\n\n      // remove self and invisible users from user list\n      const filteredUserList = usersList.filter(user => user.uid !== uid && user.visible === true)\n      this.setState({\n        users: filteredUserList,\n      })\n\n    }\n    this.setState({\n      loading: false,\n      error: null\n    })\n  }\n\n\n\n  onListenForUsers = () => {\n    const { preferredGender, uid } = this.props.firebase.authUser\n\n    console.log(\"preferredGender = \" + preferredGender)\n    this.setState({ loading: true });\n    try {\n      preferredGender === 0\n        ? this.props.firebase.users()\n          .orderByChild('gender')\n          .limitToLast(this.state.limit)\n          .on('value', snapshot => this.extractFilteredUsers(snapshot, uid))\n\n        : this.props.firebase.users()\n          .orderByChild('gender')\n          .limitToLast(this.state.limit)\n          .equalTo(preferredGender)\n          .on('value', snapshot => this.extractFilteredUsers(snapshot, uid))\n\n    } catch (error) {\n      console.log(error.message)\n      this.setState({ error, loading: false })\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.firebase.users().off();\n  }\n\n\n  render() {\n    console.log(\"UserSearchList render\")\n    const { users, loading } = this.state;\n    const { authUser } = this.props.firebase\n    return (\n      <MatchaBox title=\"Users\">\n        {loading && <div>Loading ...</div>}\n        <table className=\"table-auto \">\n          <thead>\n            <tr>\n              <th className=\"border border-indigo-800\">Photo</th>\n              <th className=\"border border-indigo-800\">Username</th>\n              <th className=\"border border-indigo-800\">Connected on my side</th>\n              <th className=\"border border-indigo-800\">Connected on their side</th>\n            </tr>\n          </thead>\n          <tbody>\n            {users.map(user => {\n              const isListedUserMyFriend = isBFriendOfA(authUser, user)\n              const amIFriendOfListedUser = isBFriendOfA(user, authUser)\n              return (\n                <tr key={user.uid}>\n                  <td className=\"border border-indigo-800\">\n                    <Avatar username={user.username} photoURL={user.photoURL}></Avatar>\n                  </td>\n                  <td className=\"border border-indigo-800\">\n                    {user.username}\n                  </td>\n                  <td className=\"border border-indigo-800\">\n                    {isListedUserMyFriend === null\n                      ? <> Not my friend yet <br />\n                        <MatchaButton text=\"Ask for connection\" type=\"button\" onClick={() => this.askConnection(user)} />\n                      </>\n                      : isListedUserMyFriend\n                        ? 'Already my friend'\n                        : <> Request to be friends already sent <br />\n                          <MatchaButton text=\"Cancel connection request\" type=\"button\" onClick={() => this.cancelRequestForConnection(user)} />\n                        </>\n                    }\n\n\n                  </td>\n                  <td className=\"border border-indigo-800\">\n                    {amIFriendOfListedUser === null\n                      ? 'I am not their friend yet'\n                      : amIFriendOfListedUser\n                        ? <> I am their friend already<br />\n                          <MatchaButton text=\"Reject connection request\" type=\"button\" onClick={() => this.rejectConnection(user)} />\n                        </>\n\n                        : <> They have asked me to be friends <br />\n                          <MatchaButton text=\"Accept connection request\" type=\"button\" onClick={() => this.acceptConnection(user)} />\n                          <MatchaButton text=\"Reject connection request\" type=\"button\" onClick={() => this.rejectConnection(user)} />\n                        </>\n                    }\n                  </td>\n                  {isListedUserMyFriend && amIFriendOfListedUser\n                    ?\n                    <td>\n                      <MatchaButton>\n                        <Link\n                          to={{\n                            // pathname: `/admin/${user.uid}`,\n                            pathname: `/chat`,\n                            state: { user },\n                          }}\n                        >\n                          Chat\n                </Link>\n                      </MatchaButton>\n                    </td>\n                    : null\n                  }\n\n                </tr>\n              )\n            })}\n          </tbody>\n        </table>\n        {this.state.error && <li>{this.state.error.message}</li>}\n      </MatchaBox>);\n  }\n}\n\nexport default withFirebase(UserSearchList);\n","/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/components/UserItem.jsx",["221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250"],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/pages/Search.jsx",[],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/components/PasswordChangeForm.jsx",["251","252","253"],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/models/User.js",[],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/pages/Home.jsx",[],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/pages/NotFound.jsx",[],"/Users/antoine/Projects/ReactAndNodeProjects/matcha-react/src/pages/Admin.jsx",["254"],{"ruleId":"255","severity":1,"message":"256","line":23,"column":17,"nodeType":"257","endLine":23,"endColumn":22},{"ruleId":"255","severity":1,"message":"258","line":23,"column":38,"nodeType":"259","endLine":23,"endColumn":46},{"ruleId":"255","severity":1,"message":"260","line":23,"column":47,"nodeType":"259","endLine":23,"endColumn":52},{"ruleId":"255","severity":1,"message":"261","line":45,"column":17,"nodeType":"257","endLine":45,"endColumn":32},{"ruleId":"255","severity":1,"message":"262","line":45,"column":34,"nodeType":"257","endLine":45,"endColumn":53},{"ruleId":"255","severity":1,"message":"263","line":45,"column":68,"nodeType":"259","endLine":45,"endColumn":76},{"ruleId":"255","severity":1,"message":"264","line":51,"column":21,"nodeType":"257","endLine":51,"endColumn":33},{"ruleId":"255","severity":1,"message":"265","line":54,"column":24,"nodeType":"259","endLine":54,"endColumn":31},{"ruleId":"255","severity":1,"message":"266","line":54,"column":32,"nodeType":"259","endLine":54,"endColumn":36},{"ruleId":"255","severity":1,"message":"267","line":27,"column":13,"nodeType":"257","endLine":27,"endColumn":17},{"ruleId":"255","severity":1,"message":"268","line":27,"column":19,"nodeType":"257","endLine":27,"endColumn":23},{"ruleId":"255","severity":1,"message":"263","line":27,"column":39,"nodeType":"259","endLine":27,"endColumn":47},{"ruleId":"255","severity":1,"message":"269","line":29,"column":28,"nodeType":"259","endLine":29,"endColumn":39},{"ruleId":"255","severity":1,"message":"270","line":29,"column":40,"nodeType":"259","endLine":29,"endColumn":43},{"ruleId":"255","severity":1,"message":"267","line":49,"column":13,"nodeType":"257","endLine":49,"endColumn":17},{"ruleId":"255","severity":1,"message":"268","line":49,"column":19,"nodeType":"257","endLine":49,"endColumn":23},{"ruleId":"255","severity":1,"message":"263","line":49,"column":39,"nodeType":"259","endLine":49,"endColumn":47},{"ruleId":"255","severity":1,"message":"269","line":50,"column":14,"nodeType":"259","endLine":50,"endColumn":25},{"ruleId":"255","severity":1,"message":"269","line":51,"column":17,"nodeType":"259","endLine":51,"endColumn":28},{"ruleId":"255","severity":1,"message":"270","line":51,"column":29,"nodeType":"259","endLine":51,"endColumn":32},{"ruleId":"255","severity":1,"message":"268","line":66,"column":13,"nodeType":"257","endLine":66,"endColumn":17},{"ruleId":"255","severity":1,"message":"267","line":66,"column":19,"nodeType":"257","endLine":66,"endColumn":23},{"ruleId":"255","severity":1,"message":"263","line":66,"column":39,"nodeType":"259","endLine":66,"endColumn":47},{"ruleId":"255","severity":1,"message":"269","line":67,"column":21,"nodeType":"259","endLine":67,"endColumn":32},{"ruleId":"255","severity":1,"message":"270","line":67,"column":33,"nodeType":"259","endLine":67,"endColumn":36},{"ruleId":"255","severity":1,"message":"263","line":21,"column":29,"nodeType":"259","endLine":21,"endColumn":37},{"ruleId":"255","severity":1,"message":"271","line":21,"column":38,"nodeType":"259","endLine":21,"endColumn":43},{"ruleId":"255","severity":1,"message":"263","line":41,"column":16,"nodeType":"259","endLine":41,"endColumn":24},{"ruleId":"255","severity":1,"message":"271","line":41,"column":25,"nodeType":"259","endLine":41,"endColumn":30},{"ruleId":"255","severity":1,"message":"272","line":49,"column":13,"nodeType":"257","endLine":49,"endColumn":45},{"ruleId":"255","severity":1,"message":"268","line":49,"column":47,"nodeType":"257","endLine":49,"endColumn":51},{"ruleId":"255","severity":1,"message":"263","line":49,"column":67,"nodeType":"259","endLine":49,"endColumn":75},{"ruleId":"255","severity":1,"message":"273","line":76,"column":13,"nodeType":"257","endLine":76,"endColumn":31},{"ruleId":"255","severity":1,"message":"263","line":76,"column":47,"nodeType":"259","endLine":76,"endColumn":55},{"ruleId":"255","severity":1,"message":"274","line":86,"column":13,"nodeType":"257","endLine":86,"endColumn":31},{"ruleId":"255","severity":1,"message":"263","line":86,"column":47,"nodeType":"259","endLine":86,"endColumn":55},{"ruleId":"255","severity":1,"message":"275","line":30,"column":25,"nodeType":"257","endLine":30,"endColumn":45},{"ruleId":"255","severity":1,"message":"276","line":30,"column":47,"nodeType":"257","endLine":30,"endColumn":60},{"ruleId":"255","severity":1,"message":"258","line":36,"column":68,"nodeType":"259","endLine":36,"endColumn":76},{"ruleId":"255","severity":1,"message":"275","line":45,"column":3,"nodeType":"257","endLine":45,"endColumn":23},{"ruleId":"255","severity":1,"message":"276","line":45,"column":25,"nodeType":"257","endLine":45,"endColumn":38},{"ruleId":"255","severity":1,"message":"277","line":45,"column":40,"nodeType":"257","endLine":45,"endColumn":45},{"ruleId":"255","severity":1,"message":"258","line":51,"column":107,"nodeType":"259","endLine":51,"endColumn":115},{"ruleId":"255","severity":1,"message":"258","line":52,"column":68,"nodeType":"259","endLine":52,"endColumn":76},{"ruleId":"255","severity":1,"message":"275","line":60,"column":24,"nodeType":"257","endLine":60,"endColumn":44},{"ruleId":"255","severity":1,"message":"276","line":60,"column":46,"nodeType":"257","endLine":60,"endColumn":59},{"ruleId":"255","severity":1,"message":"278","line":83,"column":13,"nodeType":"257","endLine":83,"endColumn":40},{"ruleId":"255","severity":1,"message":"263","line":83,"column":56,"nodeType":"259","endLine":83,"endColumn":64},{"ruleId":"255","severity":1,"message":"263","line":35,"column":24,"nodeType":"259","endLine":35,"endColumn":32},{"ruleId":"255","severity":1,"message":"279","line":35,"column":33,"nodeType":"259","endLine":35,"endColumn":61},{"ruleId":"255","severity":1,"message":"263","line":9,"column":19,"nodeType":"257","endLine":9,"endColumn":27},{"ruleId":"255","severity":1,"message":"267","line":44,"column":42,"nodeType":"259","endLine":44,"endColumn":46},{"ruleId":"255","severity":1,"message":"269","line":44,"column":47,"nodeType":"259","endLine":44,"endColumn":58},{"ruleId":"255","severity":1,"message":"267","line":49,"column":59,"nodeType":"259","endLine":49,"endColumn":63},{"ruleId":"255","severity":1,"message":"269","line":49,"column":64,"nodeType":"259","endLine":49,"endColumn":75},{"ruleId":"255","severity":1,"message":"280","line":49,"column":76,"nodeType":"259","endLine":49,"endColumn":81},{"ruleId":"255","severity":1,"message":"267","line":65,"column":93,"nodeType":"259","endLine":65,"endColumn":97},{"ruleId":"255","severity":1,"message":"281","line":65,"column":98,"nodeType":"259","endLine":65,"endColumn":105},{"ruleId":"255","severity":1,"message":"282","line":36,"column":13,"nodeType":"257","endLine":36,"endColumn":21},{"ruleId":"255","severity":1,"message":"268","line":36,"column":23,"nodeType":"257","endLine":36,"endColumn":27},{"ruleId":"255","severity":1,"message":"263","line":36,"column":43,"nodeType":"259","endLine":36,"endColumn":51},{"ruleId":"255","severity":1,"message":"283","line":42,"column":53,"nodeType":"259","endLine":42,"endColumn":56},{"ruleId":"255","severity":1,"message":"284","line":45,"column":21,"nodeType":"259","endLine":45,"endColumn":28},{"ruleId":"255","severity":1,"message":"283","line":48,"column":21,"nodeType":"259","endLine":48,"endColumn":24},{"ruleId":"255","severity":1,"message":"282","line":56,"column":13,"nodeType":"257","endLine":56,"endColumn":21},{"ruleId":"255","severity":1,"message":"268","line":56,"column":23,"nodeType":"257","endLine":56,"endColumn":27},{"ruleId":"255","severity":1,"message":"263","line":56,"column":43,"nodeType":"259","endLine":56,"endColumn":51},{"ruleId":"255","severity":1,"message":"284","line":61,"column":21,"nodeType":"259","endLine":61,"endColumn":28},{"ruleId":"255","severity":1,"message":"283","line":64,"column":21,"nodeType":"259","endLine":64,"endColumn":24},{"ruleId":"255","severity":1,"message":"282","line":72,"column":13,"nodeType":"257","endLine":72,"endColumn":21},{"ruleId":"255","severity":1,"message":"268","line":72,"column":23,"nodeType":"257","endLine":72,"endColumn":27},{"ruleId":"255","severity":1,"message":"263","line":72,"column":43,"nodeType":"259","endLine":72,"endColumn":51},{"ruleId":"255","severity":1,"message":"283","line":78,"column":56,"nodeType":"259","endLine":78,"endColumn":59},{"ruleId":"255","severity":1,"message":"283","line":83,"column":24,"nodeType":"259","endLine":83,"endColumn":27},{"ruleId":"255","severity":1,"message":"285","line":120,"column":13,"nodeType":"257","endLine":120,"endColumn":28},{"ruleId":"255","severity":1,"message":"283","line":120,"column":30,"nodeType":"257","endLine":120,"endColumn":33},{"ruleId":"255","severity":1,"message":"263","line":120,"column":49,"nodeType":"259","endLine":120,"endColumn":57},{"ruleId":"255","severity":1,"message":"282","line":120,"column":58,"nodeType":"259","endLine":120,"endColumn":66},{"ruleId":"255","severity":1,"message":"263","line":126,"column":22,"nodeType":"259","endLine":126,"endColumn":30},{"ruleId":"255","severity":1,"message":"271","line":126,"column":31,"nodeType":"259","endLine":126,"endColumn":36},{"ruleId":"255","severity":1,"message":"263","line":131,"column":22,"nodeType":"259","endLine":131,"endColumn":30},{"ruleId":"255","severity":1,"message":"271","line":131,"column":31,"nodeType":"259","endLine":131,"endColumn":36},{"ruleId":"255","severity":1,"message":"263","line":144,"column":16,"nodeType":"259","endLine":144,"endColumn":24},{"ruleId":"255","severity":1,"message":"271","line":144,"column":25,"nodeType":"259","endLine":144,"endColumn":30},{"ruleId":"255","severity":1,"message":"282","line":151,"column":13,"nodeType":"257","endLine":151,"endColumn":21},{"ruleId":"255","severity":1,"message":"263","line":151,"column":37,"nodeType":"259","endLine":151,"endColumn":45},{"ruleId":"255","severity":1,"message":"258","line":15,"column":16,"nodeType":"259","endLine":15,"endColumn":24},{"ruleId":"255","severity":1,"message":"260","line":15,"column":25,"nodeType":"259","endLine":15,"endColumn":30},{"ruleId":"255","severity":1,"message":"263","line":31,"column":27,"nodeType":"259","endLine":31,"endColumn":35},{"ruleId":"255","severity":1,"message":"268","line":32,"column":8,"nodeType":"259","endLine":32,"endColumn":12},{"ruleId":"255","severity":1,"message":"286","line":32,"column":24,"nodeType":"259","endLine":32,"endColumn":29},{"ruleId":"255","severity":1,"message":"287","line":32,"column":30,"nodeType":"259","endLine":32,"endColumn":36},{"ruleId":"255","severity":1,"message":"288","line":32,"column":37,"nodeType":"259","endLine":32,"endColumn":39},{"ruleId":"255","severity":1,"message":"263","line":43,"column":18,"nodeType":"259","endLine":43,"endColumn":26},{"ruleId":"255","severity":1,"message":"268","line":43,"column":27,"nodeType":"259","endLine":43,"endColumn":31},{"ruleId":"255","severity":1,"message":"286","line":43,"column":43,"nodeType":"259","endLine":43,"endColumn":48},{"ruleId":"255","severity":1,"message":"287","line":43,"column":49,"nodeType":"259","endLine":43,"endColumn":55},{"ruleId":"255","severity":1,"message":"288","line":43,"column":56,"nodeType":"259","endLine":43,"endColumn":58},{"ruleId":"255","severity":1,"message":"264","line":47,"column":13,"nodeType":"257","endLine":47,"endColumn":25},{"ruleId":"255","severity":1,"message":"263","line":51,"column":18,"nodeType":"259","endLine":51,"endColumn":26},{"ruleId":"255","severity":1,"message":"262","line":51,"column":27,"nodeType":"259","endLine":51,"endColumn":46},{"ruleId":"255","severity":1,"message":"263","line":52,"column":18,"nodeType":"259","endLine":52,"endColumn":26},{"ruleId":"255","severity":1,"message":"261","line":52,"column":27,"nodeType":"259","endLine":52,"endColumn":42},{"ruleId":"255","severity":1,"message":"264","line":60,"column":13,"nodeType":"257","endLine":60,"endColumn":25},{"ruleId":"255","severity":1,"message":"268","line":62,"column":13,"nodeType":"257","endLine":62,"endColumn":17},{"ruleId":"255","severity":1,"message":"263","line":62,"column":33,"nodeType":"259","endLine":62,"endColumn":41},{"ruleId":"255","severity":1,"message":"265","line":65,"column":18,"nodeType":"259","endLine":65,"endColumn":25},{"ruleId":"255","severity":1,"message":"266","line":65,"column":26,"nodeType":"259","endLine":65,"endColumn":30},{"ruleId":"255","severity":1,"message":"264","line":72,"column":13,"nodeType":"257","endLine":72,"endColumn":25},{"ruleId":"255","severity":1,"message":"268","line":74,"column":13,"nodeType":"257","endLine":74,"endColumn":17},{"ruleId":"255","severity":1,"message":"263","line":74,"column":33,"nodeType":"259","endLine":74,"endColumn":41},{"ruleId":"255","severity":1,"message":"265","line":77,"column":18,"nodeType":"259","endLine":77,"endColumn":25},{"ruleId":"255","severity":1,"message":"266","line":77,"column":26,"nodeType":"259","endLine":77,"endColumn":30},{"ruleId":"255","severity":1,"message":"286","line":95,"column":27,"nodeType":"259","endLine":95,"endColumn":32},{"ruleId":"255","severity":1,"message":"287","line":95,"column":33,"nodeType":"259","endLine":95,"endColumn":39},{"ruleId":"255","severity":1,"message":"288","line":95,"column":40,"nodeType":"259","endLine":95,"endColumn":42},{"ruleId":"255","severity":1,"message":"264","line":22,"column":13,"nodeType":"257","endLine":22,"endColumn":25},{"ruleId":"255","severity":1,"message":"263","line":24,"column":16,"nodeType":"259","endLine":24,"endColumn":24},{"ruleId":"255","severity":1,"message":"289","line":25,"column":8,"nodeType":"259","endLine":25,"endColumn":24},{"ruleId":"255","severity":1,"message":"263","line":11,"column":18,"nodeType":"257","endLine":11,"endColumn":26},"react/prop-types","'location.state.email' is missing in props validation","Property","'location' is missing in props validation","Identifier","'location.state' is missing in props validation","'firebase.doPasswordReset' is missing in props validation","'firebase.doUseDeviceLanguage' is missing in props validation","'firebase' is missing in props validation","'openSnackbar' is missing in props validation","'history' is missing in props validation","'history.push' is missing in props validation","'firebase.auth' is missing in props validation","'firebase.user' is missing in props validation","'firebase.auth.currentUser' is missing in props validation","'firebase.auth.currentUser.uid' is missing in props validation","'firebase.users' is missing in props validation","'firebase.doCreateUserWithEmailAndPassword' is missing in props validation","'firebase.doSignInWithGoogle' is missing in props validation","'firebase.doSignInWithGithub' is missing in props validation","'component' is missing in props validation","'authenticated' is missing in props validation","'admin' is missing in props validation","'firebase.onAuthStateChangedWithRoles' is missing in props validation","'firebase.doSignInWithEmailAndPassword' is missing in props validation","'firebase.auth.currentUser.email' is missing in props validation","'firebase.auth.signOut' is missing in props validation","'firebase.authUser' is missing in props validation","'firebase.authUser.uid' is missing in props validation","'firebase.authUser.friends' is missing in props validation","'firebase.authUser.preferredGender' is missing in props validation","'match' is missing in props validation","'match.params' is missing in props validation","'match.params.id' is missing in props validation","'firebase.doPasswordUpdate' is missing in props validation"]